"use strict";(self.webpackChunkpersonal_project_angular=self.webpackChunkpersonal_project_angular||[]).push([[626],{6626:(x,d,a)=>{a.r(d),a.d(d,{GameModule:()=>f});var m=a(6895),p=a(8505),n=a(8256),u=a(529),l=a(2045),C=a(2543),M=a(8386);const h=["question"],P=["nextBtn"],O=["answers"];let _=(()=>{class r{constructor(t,e,o,c){this.http=t,this.router=e,this.gameService=o,this.UserService=c,this.score=0,this.ansProgress=0,this.ansPercent=0,this.combo=0,this.EndGameActive=!1}ngOnInit(){this.settings=this.gameService.getSelectedData(),this.generateQuestion()}randomAnswers(t,e){let o=t;o.push(e);let c=4,i=[],g=0;for(;c--;)g=Math.floor(Math.random()*(c+1)),i.push(o[g]),o.splice(g,1);return i}afterAnswered(t,e){this.btnMakeDisable(!0),this.nextBtn.nativeElement.disabled=!1,e?(t.nativeElement.style.backgroundColor="#11851b",this.combo+=20,this.score+=100+this.combo):(t.nativeElement.style.backgroundColor="#8d1212",this.combo=0,this.score>=20?this.score-=20:this.score=0)}btnMakeDisable(t){this.Answers.forEach(e=>{e.nativeElement.disabled=t,e.nativeElement.style.backgroundColor="#3550a1"})}nextQuestion(){if(10!=this.ansProgress)this.btnMakeDisable(!1),this.nextBtn.nativeElement.disabled=!0,this.generateQuestion();else{this.EndGameActive=!0;const t=localStorage.getItem("id");this.UserService.setScore(t,this.score)}}resetGame(){location.reload()}returnMenu(){this.router.navigateByUrl("/main-menu").then()}generateQuestion(){this.ansProgress++,this.ansPercent+=10,this.gameService.getQuestion(0,0).pipe((0,p.b)(t=>{this.question.nativeElement.innerHTML=t.results[0].question;const e=this.randomAnswers(t.results[0].incorrect_answers,t.results[0].correct_answer);this.Answers.forEach((o,c)=>{o.nativeElement.innerHTML=e[c],o.nativeElement.addEventListener("click",i=>{this.afterAnswered(o,i.currentTarget.innerHTML==t.results[0].correct_answer)})})})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(n.Y36(u.eN),n.Y36(l.F0),n.Y36(C.h),n.Y36(M.K))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-game"]],viewQuery:function(t,e){if(1&t&&(n.Gf(h,5),n.Gf(P,5),n.Gf(O,5)),2&t){let o;n.iGM(o=n.CRH())&&(e.question=o.first),n.iGM(o=n.CRH())&&(e.nextBtn=o.first),n.iGM(o=n.CRH())&&(e.Answers=o)}},decls:39,vars:7,consts:[[1,"game-content"],[1,"game-data"],[1,"game-progress"],[1,"quest-p"],[1,"progress-cont"],[1,"progress"],[1,"score"],[1,"question"],["question",""],[1,"question-cont"],[1,"answers"],["answers",""],[1,"nextBtnCont"],["disabled","",1,"next",3,"click"],["nextBtn",""],[3,"className"],[1,"btn-cont"],[1,"againBtn",3,"click"],[1,"menuBtn",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3)(4,"span"),n._uU(5),n.qZA(),n._uU(6," / 10"),n.qZA(),n.TgZ(7,"div",4)(8,"div",5)(9,"p"),n._uU(10,"Progress"),n.qZA()()()(),n.TgZ(11,"p",6),n._uU(12,"Score: "),n.TgZ(13,"span"),n._uU(14),n.qZA()()(),n._UZ(15,"h4",7,8),n.TgZ(17,"div",9),n._UZ(18,"button",10,11)(20,"button",10,11)(22,"button",10,11)(24,"button",10,11),n.qZA(),n.TgZ(26,"div",12)(27,"button",13,14),n.NdJ("click",function(){return e.nextQuestion()}),n._uU(29,"Next Question"),n.qZA()(),n.TgZ(30,"div",15)(31,"div",15)(32,"h4"),n._uU(33),n.qZA(),n.TgZ(34,"div",16)(35,"button",17),n.NdJ("click",function(){return e.resetGame()}),n._uU(36,"Play Again"),n.qZA(),n.TgZ(37,"button",18),n.NdJ("click",function(){return e.returnMenu()}),n._uU(38,"Main Menu"),n.qZA()()()()()),2&t&&(n.xp6(5),n.Oqu(e.ansProgress),n.xp6(3),n.Udp("width",e.ansPercent+"%"),n.xp6(6),n.Oqu(e.score),n.xp6(16),n.Q6J("className",e.EndGameActive?"end-game-cont active":"end-game-cont"),n.xp6(1),n.Q6J("className",e.EndGameActive?"end-wrapper active":"end-wrapper"),n.xp6(2),n.hij("Your score is: ",e.score,""))},styles:[".game-content[_ngcontent-%COMP%]{position:relative;min-height:100vh;background-color:#00001d;color:#fff;display:flex;flex-direction:column;align-items:center}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;padding:15px}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:25px;margin:38px 10px 0 0}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]   .game-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]   .game-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]   .game-progress[_ngcontent-%COMP%]   .progress-cont[_ngcontent-%COMP%]{position:relative;box-sizing:content-box;width:200px;height:30px;border-radius:15px;border:3px solid #1c9650;display:flex}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]   .game-progress[_ngcontent-%COMP%]   .progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:10%;height:31px;background-color:#1c9650;border-radius:10px;transition-duration:1s}.game-content[_ngcontent-%COMP%]   .game-data[_ngcontent-%COMP%]   .game-progress[_ngcontent-%COMP%]   .progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;top:20%;left:35%;color:#ffffff9f}.game-content[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{margin-top:30px;font-size:20px;margin-bottom:15px;text-align:center}.game-content[_ngcontent-%COMP%]   .question-cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:60%}.game-content[_ngcontent-%COMP%]   .question-cont[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]{width:100%;height:40px;text-align:left;padding-left:10px;color:#fff;font-size:15px;background-color:#3550a1;margin-bottom:10px;transition-duration:.5s;cursor:pointer;border-radius:12px;border:none}.game-content[_ngcontent-%COMP%]   .question-cont[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]:hover{box-shadow:1px 0 15px #327399;transform:scale(1.02)}.game-content[_ngcontent-%COMP%]   .nextBtnCont[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:flex-end}.game-content[_ngcontent-%COMP%]   .nextBtnCont[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{color:#fff;border-radius:12px;width:120px;height:50px;background-color:#6db772;cursor:pointer}.game-content[_ngcontent-%COMP%]   .nextBtnCont[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]:disabled{background-color:#e54f4f}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]{overflow:hidden;position:absolute;width:100%;height:100%;background-color:#000000d4;display:none;flex-direction:column;justify-content:center;align-items:center}.game-content[_ngcontent-%COMP%]   .end-game-cont.active[_ngcontent-%COMP%]{display:flex}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s;transform:translateY(-200%);display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#00001df5;box-shadow:1px 0 15px #ff9634;border:1px solid red;border-radius:12px}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper.active[_ngcontent-%COMP%]{width:60%;height:60%;transform:translateY(10%)}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;margin-bottom:15px}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;width:120px;height:40px;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition-duration:1s;color:#322c98}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button.againBtn[_ngcontent-%COMP%]{background-color:#a333b6}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button.againBtn[_ngcontent-%COMP%]:hover{box-shadow:1px 0 29px #60018d;transform:scale(1.1)}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button.menuBtn[_ngcontent-%COMP%]{background-color:#009a78;color:#86063e}.game-content[_ngcontent-%COMP%]   .end-game-cont[_ngcontent-%COMP%]   .end-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button.menuBtn[_ngcontent-%COMP%]:hover{box-shadow:1px 0 29px #4186ce;transform:scale(1.1)}"],changeDetection:0}),r})(),f=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[m.ez,l.Bz.forChild([{path:"",component:_}])]}),r})()}}]);